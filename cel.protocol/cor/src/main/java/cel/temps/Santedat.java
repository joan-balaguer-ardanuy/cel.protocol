package cel.temps;

/**
 * <tt>
 * <center>
 * <h3>Les conseqüències de la santedat de Déu</h3>
 * <sup>1</sup> El Senyor va parlar encara a Moisès. Li digué:<br/>
 * <sup>2</sup> --Comunica això a tota la comunitat dels israelites:<br/>
 * »Sigueu sants, perquè jo, el Senyor, el vostre Déu, sóc sant.<br/>
 * <sup>3</sup> »Que tothom respecti la seva mare i el seu pare.<br/>
 * »Guardeu el repòs dels meus dies festius. Jo sóc el Senyor, el vostre Déu.<br/>
 * <sup>4</sup> »No us decanteu cap als ídols, no us fabriqueu déus de fosa. Jo sóc el Senyor, el vostre Déu.<br/>
 * <sup>5</sup> »Quan oferiu al Senyor un sacrifici de comunió, feu-ho de manera que el Senyor es complagui en vosaltres.
 * <sup>6</sup> Mengeu la carn el mateix dia del sacrifici i l'endemà, però el tercer dia cremeu tot el que en quedi.
 * <sup>7</sup> Si algú en menjava el tercer dia, jo no m'hi complauria; aquesta carn és com si fos carronya.
 * <sup>8</sup> El qui en mengés portaria el pes de la seva culpa, perquè profanaria una cosa consagrada a mi, el Senyor, i seria exclòs del poble d'Israel.<br/>
 * <sup>9</sup> »Quan segueu els sembrats, no arribeu fins a la partió del camp ni recolliu les espigolalles.
 * <sup>10</sup> I en la verema, igualment: no esgotimeu la vinya ni recolliu els grans que han caigut. Deixeu-ho per als pobres i els immigrants. Jo sóc el Senyor, el vostre Déu.<br/>
 * <sup>11</sup> »No robeu. No mentiu ni us comporteu falsament amb algú del poble.
 * <sup>12</sup> No jureu en fals pel meu nom. Seria profanar el nom del teu Déu. Jo sóc el Senyor.<br/>
 * <sup>13</sup> »No explotis el teu proïsme ni li prenguis allò que és seu. No retinguis fins l'endemà la paga del jornaler.
 * <sup>14</sup> No insultis un sord ni facis la traveta a un cec. Pensa que el teu Déu ho veu tot. Jo sóc el Senyor.<br/>
 * <sup>15</sup> »En els judicis, no donis sentències injustes. No siguis parcial a favor dels pobres ni afalaguis els poderosos. Fes justícia a tothom.
 * <sup>16</sup> No vagis a escampar calúmnies entre els teus parents. No et presentis com a testimoni buscant la mort del teu proïsme. Jo sóc el Senyor.<br/>
 * <sup>17</sup> »No covis odi contra el teu germà, però corregeix, si cal, el teu proïsme; així no et faràs responsable del seu pecat.
 * <sup>18</sup> No siguis venjatiu ni guardis rancúnia contra ningú del teu poble. Estima els altres com a tu mateix. Jo sóc el Senyor.<br/>
 * <sup>19</sup> »Guardeu també aquestes lleis:<br/>
 * »No aparellis dos animals d'espècies diferents, no sembris el teu camp amb dues classes de llavor ni duguis vestits de roba teixida amb dues menes de fibra.<br/>
 * <sup>20</sup> »Si un home té relacions sexuals amb una esclava que és concubina d'un altre i que no ha estat ni rescatada ni alliberada, després d'investigar el cas haurà de pagar una indemnització. Però no seran condemnats a mort, ja que ella encara és esclava.
 * <sup>21</sup> L'home oferirà a l'entrada de la tenda del trobament un moltó com a sacrifici de reparació.
 * <sup>22</sup> El sacerdot, amb aquest sacrifici de reparació, farà el ritu d'expiació pel pecat que aquell home ha comès; i així obtindrà el perdó del seu pecat.<br/>
 * <sup>23</sup> »Quan entrareu a la terra promesa i plantareu arbres fruiters de tota mena, tingueu per profans els seus fruits durant tres anys; no en mengeu.
 * <sup>24</sup> Tots els fruits que produiran el quart any, consagreu-los al Senyor amb cants de lloança.
 * <sup>25</sup> A partir del cinquè any podreu menjar-ne els fruits. Si ho feu així tindreu millors collites. Jo sóc el Senyor, el vostre Déu.<br/>
 * <sup>26</sup> »No mengeu la carn damunt el lloc mateix on heu vessat la sang. No practiqueu les arts d'endevinar ni els encanteris.
 * <sup>27</sup> No us retalleu tot al volt les vores de la cabellera ni us afaiteu els costats de la barba.
 * <sup>28</sup> No us feu incisions en senyal de dol per un difunt ni us feu gravar cap mena de tatuatge. Jo sóc el Senyor.<br/>
 * <sup>29</sup> »No profanis la teva filla dedicant-la a la prostitució: el país acabaria prostituint-se i es cobriria d'infàmia.<br/>
 * <sup>30</sup> »Guardeu el repòs dels meus dies festius i reverencieu així el meu santuari. Jo sóc el Senyor.<br/>
 * <sup>31</sup> »No acudiu als nigromants ni consulteu els endevins, perquè quedaríeu impurs. Jo sóc el Senyor, el vostre Déu.<br/>
 * <sup>32</sup> »Aixeca't al davant de l'ancià i honora els seus cabells blancs; així reverenciaràs el teu Déu. Jo sóc el Senyor.<br/>
 * <sup>33</sup> »Quan un immigrant vingui a instal·lar-se al costat vostre, en el vostre país, no l'exploteu.
 * <sup>34</sup> Al contrari, considereu-lo com un nadiu, com un de vosaltres. Estima'l com a tu mateix, que també vosaltres vau ser immigrants en el país d'Egipte. Jo sóc el Senyor, el vostre Déu.<br/>
 * <sup>35</sup> »No falsegeu els judicis, ni les mides, ni els pesos o les mesures.
 * <sup>36</sup> Tingueu balances exactes, pesos exactes, mesures exactes. Jo sóc el Senyor, el vostre Déu, que us he fet sortir del país d'Egipte.<br/>
 * <sup>37</sup> »Observeu tots els meus decrets i les meves decisions. Jo sóc el Senyor.<br/>
 * </center>
 * </tt>
 * 
 * @author joan
 *
 * @param <K> és la CLAU
 * @param <V> és el VALOR
 */
public abstract class Santedat
	<K extends Vida<K,V>,V extends Vida<V,K>> 
		extends Aliança<K,V> 
			implements Vida<K,V> {

	private static final long serialVersionUID = 5415577903850774847L;

	public Santedat() {
		super();
	}
	public Santedat(String nom) {
		super(nom);
	}
	public Santedat(Class<? extends V> classeFill, String nom) {
		super(classeFill, nom);
	}
	public Santedat(K pare) {
		super(pare);
	}
	public Santedat(Class<? extends V> classeFill, K pare) {
		super(classeFill, pare);
	}
	public Santedat(K déu, String nom) {
		super(déu, nom);
	}
	public Santedat(Class<? extends V> classeFill, K déu, String nom) {
		super(classeFill, déu, nom);
	}
	
	@Override
	public void alliberar() {
		obtenirPare().establirPassat(obtenirPassat());
		obtenirFutur().establirPare(obtenirFill().obtenirPare());
		establirPare(obtenirPassat().establirPare(obtenirPare()));
		obtenirFill().establirFill(obtenirPare());
		obtenirFill().establirPare(obtenirFill());
	}
	@Override
	public boolean ésBuit() {
		return obtenirPare() == this;
	}

	@Override
	public void recórrerFill(K pare, V fill) {
		pare.establirPare(obtenirPare());
		fill.establirPare(obtenirFill().obtenirPare());
		fill.establirFill(obtenirPare().obtenirPassat());
		obtenirPare().establirPassat(pare);
		establirPare(pare);
		obtenirFill().establirPare(fill);
	}

	/**
	 * {@inheritDoc}
     *
     * @implSpec
     * Aquesta implementació delega el mètode al Fill
	 */
	@Override
	public void recórrerPare(V fill, K pare) {
		obtenirFill().recórrerFill(fill, pare);
	}

	@Override
	public void concórrerFill(K pare, V fill) {
		obtenirPassat().establirPare(pare);
		obtenirFutur().establirPare(fill);
		fill.establirFill(obtenirPassat());
		pare.establirPare(obtenirPare().obtenirPassat());
		fill.establirPare(obtenirFill());
		establirPassat(pare);
	}

	/**
	 * {@inheritDoc}
     *
     * @implSpec
     * Aquesta implementació delega el mètode al Fill
	 */
	@Override
	public void concórrerPare(V fill, K pare) {
		obtenirFill().concórrerFill(fill, pare);
	}

	@Override
	public void permutarFill(K pare, V fill) {
		if(pare == obtenirPare()) {
			obtenirPassat().establirPare(pare);
			obtenirFutur().establirPare(fill);
			establirPare(pare.obtenirPare());
			obtenirFill().establirPare(fill.obtenirPare());
			obtenirPare().establirPassat(fill.establirFill(obtenirPassat()));
			establirPassat(pare);
			pare.establirPare(obtenirPare().obtenirPassat());
			fill.establirPare(obtenirFill());
		} else if(pare == obtenirPassat()) {
			pare.establirPare(obtenirPare());
			fill.establirPare(obtenirFill().obtenirPare());
			establirPassat(fill.obtenirFill());
			obtenirPassat().establirPare(obtenirPare().establirPassat(pare));
			obtenirFutur().establirPare(obtenirFill());
			fill.establirFill(obtenirPare().obtenirPassat());
			establirPare(pare);
			obtenirFill().establirPare(fill); 
		} else {
			K parePare = pare.establirPare(obtenirPare());
			V fillPare = fill.establirPare(obtenirFill().obtenirPare());
			K fillFill = fill.establirFill(obtenirPassat());
			fillPare.establirFill(obtenirPare().obtenirPassat());
			obtenirPare().establirPassat(pare);
			establirPare(parePare);
			obtenirFill().establirPare(fillPare);
			obtenirPassat().establirPare(pare);
			obtenirFutur().establirPare(fill);
			establirPassat(fillFill);
			obtenirPassat().establirPare(obtenirPare().obtenirPassat());
			obtenirFutur().establirPare(obtenirFill());
		}
	}

	/**
	 * {@inheritDoc}
     *
     * @implSpec
     * Aquesta implementació delega el mètode al Fill
	 */
	@Override
	public void permutarPare(V fill, K pare) {
		obtenirFill().permutarFill(fill, pare);
	}

	@Override
	public void sotmetreFill(K pare, V fill) {
		if(aleatorietat().nextBoolean())
			recórrerFill(pare, fill);
		else concórrerFill(pare, fill);
	}

	/**
	 * {@inheritDoc}
     *
     * @implSpec
     * Aquesta implementació delega el mètode al Fill
	 */
	@Override
	public void sotmetrePare(V fill, K pare) {
		obtenirFill().sotmetreFill(fill, pare);
	}
}